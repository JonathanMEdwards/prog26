% -*- coding: utf-8; -*-
% vim: set fileencoding=utf-8 :
\documentclass[english,submission]{programming}
%% First parameter: the language is 'english'.
%% Second parameter: use 'submission' for initial submission, remove it for camera-ready (see 5.1)

\usepackage[backend=biber]{biblatex}
\addbibresource{paper.bib}

% define natbib citet
\newcommand{\citet}[1]{\citeauthor*{#1}~\cite{#1}}
\newcommand{\mathbox}[1]{\colorbox{black!10}{$#1$}}
\usepackage{tcolorbox}
\tcbset{colback=black!10, colframe=white}

\DeclareMathOperator{\pipe}{|}
\DeclareMathOperator{\at}{\textsf{@}}

\usepackage{mathtools}
\usepackage{csquotes}

%%%%%%%%%%%%%%%%%%
%% These data MUST be filled for your submission. (see 5.3)
\paperdetails{
  %% perspective options are: art, sciencetheoretical, scienceempirical, engineering.
  %% Choose exactly the one that best describes this work. (see 2.1)
  perspective=art,
  %% State one or more areas, separated by a comma. (see 2.2)
  %% Please see list of areas in http://programming-journal.org/cfp/
  %% The list is open-ended, so use other areas if yours is/are not listed.
  area={Database programming, Visual and live programming, Programming environments},
  %% You may choose the license for your paper (see 3.)
  %% License options include: cc-by (default), cc-by-nc
  % license=cc-by,
}
%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%
%% These data are provided by the editors. May be left out on submission.
%\paperdetails{
%  submitted=2016-08-10,
%  published=2016-10-11,
%  year=2016,
%  volume=1,
%  issue=1,
%  articlenumber=1,
%}
%%%%%%%%%%%%%%%%%%


\begin{document}

\title{Edit Calculus: Data as Code}

\author[a]{Jonathan Edwards}[0000-0003-1958-7967]
\authorinfo{is an independent researcher interested in simplifying and democratising programming by collapsing the tech stack. He is known
for his \href{https://subtext-lang.org}{Subtext} programming language experiments and his blog at \href{https://alarmingdevelopment.org}{\texttt{alarmingdevelopment.org}}.
He has been a researcher at MIT CSAIL and CDG/HARC. He tweets \href{https://x.com/jonathoda}{\texttt{@jonathoda}} and can be reached at
\email{jonathanmedwards@gmail.com}.}
\affiliation[a]{Independent, Boston, MA, USA}

\author[b]{Tomas Petricek}[0000-0002-7242-2208]
\authorinfo{is an assistant professor at Charles University. He
is interested in finding easier and more accessible ways of thinking
about programming. To do so, he combines technical work on
programming systems and tools with research into history and
philosophy of science. His work can be found at \href{https://tomasp.net}{\texttt{tomasp.net}} and
he can be reached at \email{tomas@tomasp.net}.}
\affiliation[b]{Charles University, Prague, Czechia}


\keywords{key, word} % please provide 1--5 keywords


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Please go to https://dl.acm.org/ccs/ccs.cfm and generate your Classification
% System [view CCS TeX Code] stanz and copy _all of it_ to this place.
%% From HERE

% To HERE
%%%%%%%%%%%%%%%%%%%%%%%

\maketitle

\begin{abstract}

% Each submission must be accompanied by a plain-language abstract of up to 500 words that presents the key points in the paper in a manner understandable by experienced practitioners and researchers in nearby disciplines. The abstract should avoid mathematical symbols whenever possible, and it must address the following:
% Context: What is the broad context of the work? What is the importance of the general research area?
% Inquiry: What problem or question does the paper address? How has this problem or question been addressed by others (if at all)?
% Approach: What was done that unveiled new knowledge?
% Knowledge: What new facts were uncovered? If the research was not results oriented, what new capabilities are enabled by the work?
% Grounding: What argument, feasibility proof, artifacts, or results and evaluation support this work?
% Importance: Why does this work matter?

\end{abstract}





\section{Introduction}

% Code as Data couldn't solve problems of "devops".
% Try from other end: turn a database into a dev environment.

% methodology
% headlines/insights
% contributions


\section{Simple Structures}

We assume sets \mathbox{s} of strings, \mathbox{n} of numbers including \mathbox{\textsf{NaN}}, and identifiers \mathbox{I}.
\tcbox{
\[ \begin{array}{rl|rl|rl|l}
  \multicolumn{2}{l|}{\textrm{type}} & \multicolumn{2}{l|}{\textrm{value}} & \multicolumn{2}{l|}{\textrm{initial value}}&\\
  \hline
  \textsf{T} \Coloneqq & & \textsf{v} \Coloneqq & & \textsf{T}^\varnothing = & &\\
  &  \textsf{String} & & s & & \textsf{\textquotedbl\ \!\textquotedbl} & \textrm{string}\\
  & \textsf{Number} & &  n & & \textsf{NaN} & \textrm{number}\\
  & \textsf{List T} & & [ \# I : \textsf{v} \  \dots ] & & [] & \textrm{list}\\
  & \{ I \  s : \textsf{T} \  \dots \} & & \{ I : \textsf{v} \  \dots \} & &
  \{ I : \textsf{T}^\varnothing \  \dots \}& \textrm{record}\\

  & \bot && \bigtimes & & \bigtimes & \textrm{tombstone}\\
\end{array}\]
}

\tcbox{
\[ \begin{array}{rl|l}
  \textsf{p} \Coloneqq & / \textsf{i} \  \dots / & \textrm{path} \\
  \textsf{i} \Coloneqq &  & \textrm{ID} \\
  & I & \textrm{record field ID}\\
  & \# I & \textrm{list element ID}\\
  & \textsf{*} & \textrm{list element type}\\
\end{array}\]
}



These definitions naturally induce:
\[ \begin{array}{cl}
  \mathbox{\textsf{v} \dblcolon \textsf{T}} & \textrm{iff value \mathbox{\textsf{v}} matches type \mathbox{\textsf{T}}}.\\

  \mathbox{\textsf{T}\lfloor\textsf{p}\rfloor?} & \textrm{iff path \mathbox{\textsf{p}} exists in type \mathbox{\textsf{T}}} \textrm{, in which case}\\
  & \mathbox{\textsf{T}\lfloor\textsf{p}\rfloor} \textrm{ is the type at that path and }\\
  & \mathbox{\textsf{T}\lceil\textsf{p} \coloneqq \textsf{T}_\textsf{2}\rceil} \textrm{ is \textsf{T} with } \mathbox{\textsf{T}_\textsf{2}} \textrm{ substituted at that path.}\\

  \mathbox{\textsf{v}\lfloor\textsf{p}\rfloor?} &\textrm{iff path \mathbox{\textsf{p}} exists in value \mathbox{\textsf{v}}} \textrm{, in which case }\\
  & \mathbox{\textsf{v}\lfloor\textsf{p}\rfloor} \textrm{ is the value at that path and}\\
  & \mathbox{\textsf{v}\lceil\textsf{p} \coloneqq \textsf{v}_\textsf{2}\rceil} \textrm{ is \textsf{v} with } \mathbox{\textsf{v}_\textsf{2}} \textrm{ substituted at that path.}\\
\end{array}\]

A \textit{state} is a triple \mathbox{\textsf{v} : \textsf{T} \at \textsf{p}} where \mathbox{\textsf{v} \dblcolon \textsf{T}} and either \mathbox{\textsf{T}\lfloor\textsf{p}\rfloor?} or \mathbox{\textsf{v}\lfloor\textsf{p}\rfloor?}. The path \mathbox{\textsf{p}} is called the \textit{selection} of the state.


\printbibliography

\end{document}

% Local Variables:
% TeX-engine: luatex
% End:
